# 最长有效括号
## 问题
```js
给你一个只包含 '(' 和 ')' 的字符串，找出最长有效（格式正确且连续）括号 子串 的长度。

左右括号匹配，即每个左括号都有对应的右括号将其闭合的字符串是格式正确的，比如 "(()())"。

 

示例 1：

输入：s = "(()"
输出：2
解释：最长有效括号子串是 "()"
示例 2：

输入：s = ")()())"
输出：4
解释：最长有效括号子串是 "()()"
示例 3：

输入：s = ""
输出：0
```
## 答案
```js
var longestValidParentheses = function(s) {
    let res=0;
    let stack=[];
    stack.push(-1);
    for(let i=0;i<s.length;i++){
        if(s[i]=='('){
            stack.push(i);
        }else{
            stack.pop();
            if(stack.length>0){
                let curlen=i-stack[stack.length-1];
                res=Math.max(res,curlen);
            }else{
                stack.push(i);
            }
        }
    }
    return res;
};
```
## 扩展